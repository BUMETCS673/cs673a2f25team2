<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.shanzhu.health.mapper.UserMapper">
    <select id="getRoleNameByUserId" parameterType="Integer" resultType="String">
        SELECT
        b.role_name
        FROM j_user_role a, j_role b
        WHERE
        <!-- Perform inner join, only return records where role_id exists in both tables. -->
        a.role_id=b.role_id
        <!-- In the joined result set, filter out records where user_id equals the input parameter userId. -->
        AND a.user_id=#{userId}
    </select>
</mapper>
